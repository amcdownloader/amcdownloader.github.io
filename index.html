<!doctype html>
<html class="no-js" lang="fa">
<head>
<meta charset="utf-8">
<title>پرشین گیمینگ | سرور سمپ دزد و پلیس</title>
<meta http-equiv="Content-Language" content="Fa">
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="description" content="مجموعه پرشین گیمینگ، در جهت پر کردن اوقات فراغت شما، در زمینه بازی های آنلاین و سرور سمپ فعالیت می کند" />
<meta name="keywords" content="samp,gta,gta sa,game,online game,gta online,gta sa online,samp server,game server,gaming,gaming server,سمپ,سرور سمپ,جی تی آی,بازی آنلاین,دزد و پلیس,سرور سمپ دزد و پلیس,PersianGaming,پرشین گیمینگ,لیست سرورهای سمپ,gta آنلاین" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="HandheldFriendly" content="true" />
<meta name="apple-touch-fullscreen" content="yes" />
<!-- All Animations CSS -->
<link href="css/animate.css" rel="stylesheet" type="text/css">
<link href="css/animate-rtl.css" rel="stylesheet" type="text/css">
<!-- Image Lightbox CSS-->
<link rel="stylesheet" href="css/imagelightbox.css" type="text/css" media="screen">
<link rel="stylesheet" href="css/imagelightbox-rtl.css" type="text/css" media="screen">
<!-- Theme styles and Menu styles -->
<link href="css/style.css" rel="stylesheet" type="text/css">
<link href="css/style-rtl.css" rel="stylesheet" type="text/css">
<link href="css/mainmenu.css" rel="stylesheet" type="text/css">
<link href="css/mainmenu-rtl.css" rel="stylesheet" type="text/css">
<!-- Call Fontawsome Icon Font from a CDN -->
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<!--Pace Page Loader -->
<link rel="stylesheet" href="js/pace-0.5.1/themes/pace-theme-minimal.css" type="text/css" media="screen" />
<!--FlexSlider -->
<link rel="stylesheet" href="js/woothemes-FlexSlider-06b12f8/flexslider.css" type="text/css" media="screen">
<!--Isotope Plugin -->
<link rel="stylesheet" href="js/isotope/css/style.css" type="text/css" media="screen">
<!--Simple Text Rotator -->
<link href="css/simpletextrotator.css" rel="stylesheet" type="text/css">
<!--Style Switcher, You propably want to remove this!-->
<link href="css/_style_switcher.css" rel="stylesheet" type="text/css">
<!--Modernizer Custom -->
<script type="text/javascript" src="js/modernizr.custom.48287.js"></script>
<!-- Fav and touch icons -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="apple-touch-icon-114x114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="apple-touch-icon-72x72-precomposed.png">
<link rel="apple-touch-icon-precomposed" href="apple-touch-fa-57x57-precomposed.html">
<link rel="shortcut icon" href="favicon.png">
<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">
</head>
<body class="sticky_header">
<?php

$serverIP = "Gamehax.ir";
$serverPort = 7777;

function sanitize_output($buffer) {

    $search = array(
        '/\>[^\S ]+/s',  // strip whitespaces after tags, except space
        '/[^\S ]+\</s',  // strip whitespaces before tags, except space
        '/(\s)+/s'       // shorten multiple whitespace sequences
    );

    $replace = array(
        '>',
        '<',
        '\\1'
    );

    $buffer = preg_replace($search, $replace, $buffer);

    return $buffer;
}

ob_start("sanitize_output");

class QueryServer
{
  // Private variables used for the query-ing.
  private $szServerIP;
  private $iPort;
  private $rSocketID;

  private $bStatus;

  // The __construct function gets called automatically
  // by PHP once the class gets initialized.
  function __construct( $szServerIP, $iPort )
  {
      $this->szServerIP = $this->VerifyAddress( $szServerIP );
      $this->iPort = $iPort;

      if (empty( $this->szServerIP ) || !is_numeric( $iPort )) {
          throw new QueryServerException( 'Either the ip-address or the port isn\'t filled in correctly.' );
      }

      $this->rSocketID = @fsockopen( 'udp://' . $this->szServerIP, $iPort, $iErrorNo, $szErrorStr, 5 );
      if (!$this->rSocketID) {
          throw new QueryServerException( 'Cannot connect to the server: ' . $szErrorStr );
      }

      socket_set_timeout( $this->rSocketID, 0, 500000 );
      $this->bStatus = true;
  }

  // The VerifyAddress function verifies the given hostname/
  // IP address and returns the actual IP Address.
  function VerifyAddress( $szServerIP )
  {
      if (ip2long( $szServerIP ) !== false && 
        long2ip( ip2long( $szServerIP ) ) == $szServerIP ) {
          return $szServerIP;
      }

      $szAddress = gethostbyname( $szServerIP );
      if ($szAddress == $szServerIP) {
          return "";
      }

      return $szAddress;
  }

  // The SendPacket function sends a packet to the server which
  // requests information, based on the type of packet send.
  function SendPacket( $cPacket )
  {
      $szPacket = 'SAMP';
      $aIpChunks = explode( '.', $this->szServerIP );

      foreach( $aIpChunks as $szChunk ) {
          $szPacket .= chr( $szChunk );
      }

      $szPacket .= chr( $this->iPort & 0xFF );
      $szPacket .= chr( $this->iPort >> 8 & 0xFF );
      $szPacket .= $cPacket;

      return fwrite( $this->rSocketID, $szPacket, strlen( $szPacket ) );
  }

  // The GetPacket() function returns a specific number of bytes
  // read from the socket. This uses a special way of getting stuff.
  function GetPacket( $iBytes )
  {
      $iResponse = fread( $this->rSocketID, $iBytes );
      if ($iResponse === false) {
          throw new QueryServerException( 'Connection to ' . $this->szServerIP . ' failed or has dropped.' );
      }

      $iLength = ord( $iResponse );
      if ($iLength > 0)
          return fread( $this->rSocketID, $iLength );

      return "";
  }

  // After we're done, the connection needs to be closed using
  // the Close() function. Otherwise stuff might go wrong.
  function Close( )
  {
      if ($this->rSocketID !== false) {
          fclose( $this->rSocketID );
      }
  }

  // A little function that's needed to properly convert the
  // four bytes we're recieving to integers to an actual PHP
  // integer. ord() can't handle value's higher then 255.
  function toInteger( $szData )
  {
      $iInteger = 0;

      $iInteger += ( ord( @$szData[ 0 ] ) );
      $iInteger += ( ord( @$szData[ 1 ] ) << 8 );
      $iInteger += ( ord( @$szData[ 2 ] ) << 16 );
      $iInteger += ( ord( @$szData[ 3 ] ) << 24 );

      if( $iInteger >= 4294967294 )
          $iInteger -= 4294967296;

      return $iInteger;
  }

  // The GetInfo() function returns basic information about the
  // server, like the hostname, number of players online etc.
  function GetInfo( )
  {
      if ($this->SendPacket('i') === false) {
          throw new QueryServerException( 'Connection to ' . $this->szServerIP . ' failed or has dropped.' );
      }

      $szFirstData = fread( $this->rSocketID, 4 );
      if (empty( $szFirstData ) || $szFirstData != 'SAMP') {
          throw new QueryServerException( 'The server at ' . $this->szServerIP . ' is not an SA-MP Server.' );
      }

      // Pop the first seven characters returned.
      fread( $this->rSocketID, 7 );

      return array (
          'Password'  =>  ord( fread( $this->rSocketID, 1 ) ),
          'Players'  =>  $this->toInteger( fread( $this->rSocketID, 2 ) ),
          'MaxPlayers' =>  $this->toInteger( fread( $this->rSocketID, 2 ) ),
          'Hostname'  =>  $this->GetPacket( 4 ),
          'Gamemode'  =>  $this->GetPacket( 4 ),
          'Map'    =>  $this->GetPacket( 4 )
      );
  }

  // The GetRules() function returns the rules which are set
  // on the server, e.g. the gravity, version etcetera.
  function GetRules( )
  {
      if ($this->SendPacket('r') === false) {
          throw new QueryServerException( 'Connection to ' . $this->szServerIP . ' failed or has dropped.' );
      }

      // Pop the first 11 bytes from the response;
      fread( $this->rSocketID, 11 );

      $iRuleCount = ord( fread( $this->rSocketID, 2 ) );
      $aReturnArray = array( );

      for( $i = 0; $i < $iRuleCount; $i ++ ) {
          $szRuleName = $this->GetPacket( 1 );
          $aReturnArray[ $szRuleName ] = $this->GetPacket( 1 );
      }

      return $aReturnArray;
  }

  // The GetPlayers() function is pretty much simelar to the
  // detailed function, but faster and contains less information.
  function GetPlayers( )
  {
      if ($this->SendPacket('c') === false) {
          throw new QueryServerException( 'Connection to ' . $this->szServerIP . ' failed or has dropped.' );
      }

      // Again, pop the first eleven bytes send;
      fread( $this->rSocketID, 11 );

      $iPlayerCount = ord( fread( $this->rSocketID, 2 ) );
      $aReturnArray = array( );

      for( $i = 0; $i < $iPlayerCount; $i ++ )
      {
          $aReturnArray[ ] = array (
              'Nickname' => $this->GetPacket( 1 ),
              'Score'  => $this->toInteger( fread( $this->rSocketID, 4 ) )
          );
      }

      return $aReturnArray;
  }

  // The GetDetailedPlayers() function returns the player list,
  // but in a detailed form inclusing the score and the ping.
  function GetDetailedPlayers( )
  {
      if ($this->SendPacket('d') === false) {
          throw new QueryServerException( 'Connection to ' . $this->szServerIP . ' failed or has dropped.' );
      }

      // Skip the first 11 bytes of the response;
      fread( $this->rSocketID, 11 );

      $iPlayerCount = ord( fread( $this->rSocketID, 2 ) );
      $aReturnArray = array( );

      for( $i = 0; $i < $iPlayerCount; $i ++ ) {
          $aReturnArray[ ] = array(
              'PlayerID'  => $this->toInteger( fread( $this->rSocketID, 1 ) ),
              'Nickname'  => $this->GetPacket( 1 ),
              'Score'   => $this->toInteger( fread( $this->rSocketID, 4 ) ),
              'Ping'    => $this->toInteger( fread( $this->rSocketID, 4 ) )
          );
      }

      return $aReturnArray;
  }

function RCON($rcon, $command)
  {
      echo 'Password '.$rcon.' with '.$command;
      if ($this->SendPacket('x '.$rcon.' '.$command) === false) {
          throw new QueryServerException( 'Connection to ' . $this->szServerIP . ' failed or has dropped.' );
      }

      $aReturnArray = fread( $this->rSocketID, 11 );

      echo fread( $this->rSocketID, 11 );

      return $aReturnArray;
  }

}

class QueryServerException extends Exception
{
  private $szMessage;

  function __construct( $szMessage )
  {
      $this->szMessage = $szMessage;
  }

  function toString( )
  {
      return $this->szMessage;
  }
}
?>
<div class="overflow_wrapper">
     <header>
          <div class="container">
               <div class="logo"><a class="brand" href="index.php"> <img src="images/persiangaming_logo.png" alt="optional logo"> <span class="logo_title">پرشین گیمینگ</span></a></div>
               <div id="mainmenu" class="menu_container">
                    <label class="mobile_collapser">منو</label>
                    <!-- Mobile menu title -->
                    <ul>
                         <li class="active"><a href="index.php">خانه</a></li>
						 <li><a href="forum" target="_blank">انجمن</a></li>
						 <li><a href="shop.php" target="_blank">فروشگاه</a></li>
                         <li><a href="about_us.php" target="_blank">درباره ما</a></li>
                    </ul>
               </div>
               <div class="triangle-up-left"></div>
               <div class="triangle-up-right"></div>
          </div>
     </header>
     <section id="slider_wrapper" class="slider_wrapper full_page_photo">
          <div id="main_flexslider" class="flexslider">
               <ul class="slides">
                    <li class="item" style="background-image: url(images/1.jpg)">
                         <div class="container">
                              <div class="carousel-caption animated bounceInUp">
                                   <h1>یک <strong>سرور</strong> جذاب<br>
                                        مناسب برای اوقات فراغت و بازی</h1>
                                   <p class="lead skincolored">مجموعه پرشین گیمینگ، در جهت پر کردن اوقات فراغت شما، در زمینه بازی های آنلاین فعالیت می کند</p>
                              </div>
                         </div>
                    </li>
                    <li class="item" style="background-image: url(images/2.jpg)">
                         <div class="container">
                              <div class="carousel-caption animated bounceInUp">
                                   <h1>یک <strong>سرور</strong> جذاب<br>
                                        مناسب برای اوقات فراغت و بازی</h1>
                                   <p class="lead skincolored">مجموعه پرشین گیمینگ، در جهت پر کردن اوقات فراغت شما، در زمینه بازی های آنلاین فعالیت می کند</p>
                              </div>
                         </div>
                    </li> 
                    <li class="item" style="background-image: url(images/3.jpg)">
                         <div class="container">
                              <div class="carousel-caption animated bounceInUp">
                                   <h1>یک <strong>سرور</strong> جذاب<br>
                                        مناسب برای اوقات فراغت و بازی</h1>
                                   <p class="lead skincolored">مجموعه پرشین گیمینگ، در جهت پر کردن اوقات فراغت شما، در زمینه بازی های آنلاین فعالیت می کند</p>
                              </div>
                         </div>
                    </li>
					<li class="item" style="background-image: url(images/4.jpg)">
                         <div class="container">
                              <div class="carousel-caption animated bounceInUp">
                                   <h1>یک <strong>سرور</strong> جذاب<br>
                                        مناسب برای اوقات فراغت و بازی</h1>
                                   <p class="lead skincolored">مجموعه پرشین گیمینگ، در جهت پر کردن اوقات فراغت شما، در زمینه بازی های آنلاین فعالیت می کند</p>
                              </div>
                         </div>
                    </li>
					<li class="item" style="background-image: url(images/5.jpg)">
                         <div class="container">
                              <div class="carousel-caption animated bounceInUp">
                                   <h1>یک <strong>سرور</strong> جذاب<br>
                                        مناسب برای اوقات فراغت و بازی</h1>
                                   <p class="lead skincolored">مجموعه پرشین گیمینگ، در جهت پر کردن اوقات فراغت شما، در زمینه بازی های آنلاین فعالیت می کند</p>
                              </div>
                         </div>
                    </li>
					<li class="item" style="background-image: url(images/6.jpg)">
                         <div class="container">
                              <div class="carousel-caption animated bounceInUp">
                                   <h1>یک <strong>سرور</strong> جذاب<br>
                                        مناسب برای اوقات فراغت و بازی</h1>
                                   <p class="lead skincolored">مجموعه پرشین گیمینگ، در جهت پر کردن اوقات فراغت شما، در زمینه بازی های آنلاین فعالیت می کند</p>
                              </div>
                         </div>
                    </li>
               </ul>
          </div>
     </section>
     <div class="main">
          <div class="container triangles-of-section">
               <div class="triangle-up-left"></div>
               <div class="square-left"></div>
               <div class="triangle-up-right"></div>
               <div class="square-right"></div>
          </div>
          <section class="features_teasers_wrapper">
               <div class="container">
                    <div class="row">
                         <div class="feature_teaser col-sm-4 col-md-4"> <img alt="responsive" src="images/phone-v2.png">
                              <h3>طراحی دقیق و بدون باگ</h3>
                              <p>سرور های پرشین گیمینگ که توسط برنامه نویسان ماهر ایرانی نوشته شده اند، بدون ایراد بوده تا شما از بازی در آنها لذت ببرید</p>
                         </div>
                         <div class="feature_teaser col-sm-4 col-md-4"> <img alt="responsive" src="images/lib-v2.png">
                              <h3>امنیت</h3>
                              <p>ما در مجموعه بزرگ پرشین گیمینگ همواره سعی در حفظ امنیت اطلاعات شما در سرور داشته ایم تا از هرگونه دزدی از اکانت های شما جلوگیری شود</p>
                         </div>
                         <div class="feature_teaser col-sm-4 col-md-4"> <img alt="responsive" src="images/rocket_trans-v2.png">
                              <h3>سرعت</h3>
                              <p>سرورهای پرشین گیمینگ دارای سرعت و پینگ کم می باشند که بازی را برای شما لذت بخش خواهد کرد</p>
                         </div>
                    </div>
               </div>
          </section>
          <section class="call_to_action dark_section">
               <div class="container">
                    <h3>تمرکز پرشین گیمینگ بر <strong><span class="rotate">امنیت, جذابیت, سرعت</span></strong> است</h3>
                    <h4>و ما معتقدیم بر این اصول پایدار بوده ایم</h4>
                    <a class="btn btn-primary" href="https://bit.ly/2T4RVNG" target="_blank">دانلود لانچر</a>&nbsp&nbsp&nbsp&nbsp<a class="btn btn-primary" href="ts3server://Gamehax.ir">اتصال به تیم اسپیک</a>&nbsp&nbsp&nbsp&nbsp<a class="btn btn-primary" href="samp://Gamehax.ir:7777">اتصال به سرور سمپ</a> </div>
          </section>
          <section class="portfolio_teasers_wrapper">
               <div class="container triangles-of-section">
                    <div class="triangle-up-left"></div>
                    <div class="square-left"></div>
                    <div class="triangle-up-right"></div>
                    <div class="square-right"></div>
               </div>
					<div class="clients_section wow fadeInUp">
                    <div class="container">
                         <h2 class="section_header elegant centered">وضعیت سرور</h2>
                         <div class="clients_list">
							<?php
								try
								{
									$rQuery = new QueryServer( $serverIP, $serverPort );

									$aInformation = $rQuery->GetInfo( );
									$aServerRules = $rQuery->GetRules( );
									$aBasicPlayer = $rQuery->GetPlayers( );
									$aTotalPlayers = $rQuery->GetDetailedPlayers( );

									$rQuery->Close( );
								}
								catch (QueryServerException $pError)
								{
									echo 'ERROR!';
								}
								if(isset($aInformation) && is_array($aInformation)){
									echo "<h2>" . htmlentities($aInformation['Hostname']) . "</h2><br />";
									?>
									<center><table class="pure-table pure-table-bordered">
										  <tr class="pure-table-odd">
											  <td><b>ID</b></td>
											  <td><b>Nickname</b></td>
											  <td><b>Score</b></td>
											  <td><b>Ping</b></td>
										  </tr>
								  <?php
									  foreach($aTotalPlayers AS $id => $value){
									  ?>
										  <tr>
											  <td><?php echo $value['PlayerID']; ?></td>
											  <td><?php echo htmlentities($value['Nickname']); ?></td>
											  <td><?php echo $value['Score']; ?></td>
											  <td><?php echo $value['Ping']; ?></td>
										  </tr>
									  <?php
									  }
									
									  echo '</table></center>';
								}
							?>
						 </div>
                    </div>
               </div>
          </section>
          <section class="twitter_feed_wrapper skincolored_section">
               <div class="container">
                    <div class="row">
                         <div class="twitter_feed_icon wow fadeInDown"><a href="https://t.me/ParsCnr" target="_blank"><img src="images/telegram.png"></a></div>
                         <div id="twitter_flexslider" class="flexslider">
                              <ul class="slides">
                                   <li class="item">
                                        <blockquote>
                                             <p>از دادن پسورد اکانت خود به دیگران خودداری کنید، پرشین گیمینگ مسئولیتی در قبال دزدی اکانت شما ندارد <a href="https://Gamehax.ir">پرشین گیمینگ</a></p>
                                        </blockquote>
                                   </li>
                                   <li class="item">
                                        <blockquote>
                                             <p>قبل از استفاده از سرور لطفا قوانین سرور را مطالعه فرمایید <a href="https://Gamehax.ir/">پرشین گیمینگ</a></p>
                                        </blockquote>
                                   </li>
                                   <li class="item">
                                        <blockquote>
                                             <p>با حذف کردن چیت ها و تقلب های خود، بازی خوبی را به ارمغان آورید <a href="https://Gamehax.ir/">پرشین گیمینگ</a></p>
                                        </blockquote>
                                   </li>
                              </ul>
                         </div>
                    </div>
               </div>
          </section>
          <footer>
               <section class="footer_teasers_wrapper dark_section">
                    <div class="container triangles-of-section">
                         <div class="triangle-up-left"></div>
                         <div class="square-left"></div>
                         <div class="triangle-up-right"></div>
                         <div class="square-right"></div>
                    </div>
                    <div class="container">
                         <div class="row">
                              <div class="footer_teaser pl_about_us_widget col-sm-4 col-md-4">
                                   <h3>در تماس باشید</h3>
                                   <!--address<p></p>-->
                                   <p><i class="fa fa-envelope"></i> support@gamehax.ir</p>
                                   <p><i class="fa fa-phone"></i> 937 000 0000 (98+) </p>
                                   <div class="footer_social">
                                        <div class="social_wrapper"><a href="#"><i class="fa fa-facebook"></i></a> <a href="#"><i class="fa fa-youtube"></i></a> <a href="#"><i class="fa fa-google-plus"></i></a></div>
                                   </div>
                              </div>
                         </div>
                    </div>
               </section>
               <div class="copyright">
                    <div class="container">
                         <div class="row">
                              <div class="col-sm-4 col-md-4">کپی رایت  ©2020 تمامی حقوق محفوظ است </div>
                              <div class="col-sm-4 col-md-4"></div>
                              <div class="text-right col-sm-4 col-md-4">طراحی شده توسط امیرمحمد غیبی و تحت اسپانسرینگ <a href="https://Gamehax.ir/">گیم هکس</a></div>
                         </div>
                    </div>
               </div>
          </footer>
     </div>
     <script src="js/jquery-1.10.2.min.js"></script>
     <script src="twitter-bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
     <!--Pace Page Loader -->
     <script src="js/pace-0.5.1/pace.min.js"></script>
     <!--FlexSlider -->
     <script src="js/woothemes-FlexSlider-06b12f8/jquery.flexslider-min.js"></script>
     <!--Isotope Plugin -->
     <script src="js/isotope/jquery.isotope.min.js" type="text/javascript"></script>
     <!--To-Top Button Plugin -->
     <script type="text/javascript" src="js/jquery.ui.totop.js"></script>
     <!--Easing animations Plugin -->
     <script type="text/javascript" src="js/easing.js"></script>
     <!--WOW Reveal on scroll Plugin -->
     <script type="text/javascript" src="js/wow.min.js"></script>
     <!--Simple Text Rotator -->
     <script type="text/javascript" src="js/jquery.simple-text-rotator.js"></script>
     <!--The Theme Required Js -->
     <script type="text/javascript" src="js/persiangaming_theme.js"></script>
     <!--To collapse the menu -->
     <script type="text/javascript" src="js/collapser.js"></script>
</div>
</body>
</html>
